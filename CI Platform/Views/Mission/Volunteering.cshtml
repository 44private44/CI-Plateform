@using CIPlatform.Entities.MissionModel

@*
    For more information on enabling MVC for empty projects, visit https://go.microsoft.com/fwlink/?LinkID=397860
*@
@{
    var UserId = ViewBag.UserId;
    var usern = ViewBag.usern;
    int recentvolunteeer = 0;
    double avgRatingstar = 0;
    int rating = 0;
    int totalvolunteerrating = 0;
    var statususerid = ViewBag.userId;
    var statusmissionid = @Model.Missions.MissionId;

}
<head>
    <script src="https://kit.fontawesome.com/e7b47f6d71.js" crossorigin="anonymous"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/sweetalert/1.1.3/sweetalert.min.css">
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/sweetalert/1.1.3/sweetalert.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.2/font/bootstrap-icons.css" integrity="sha384-b6lVK+yci+bfDmaY1u0zE8YYJt0TZxLEAFyYSLHId4xoVvsrQu3INevFKo+Xir8e" crossorigin="anonymous">
</head>
@model MissiondetailsModel
@if (TempData["error11"] != null)
{
    <div class="alert alert-danger">
        <strong>Error !</strong>
        @TempData["error11"]
    </div>
}
@if (TempData["success11"] != null)
{
    <div class="alert alert-success">
        <strong>Success !</strong>
        @TempData["success11"]
    </div>
}
<div class="volunteeringMission">
    <!-- header -->
    @*<partial name="_header"  />*@
    @Html.Partial("~/Views/Shared/_header.cshtml", Model.FilterMissions);

    <!-- filter -->
    @if (Model.Missions.MissionRatings.Any())
    {
        avgRatingstar = (int)Model.Missions.MissionRatings.Average(r => r.Rating);
        totalvolunteerrating = Model.Missions.MissionRatings.Count();
    }

    <p class="d-none" id="commentusername" value="@usern"> @usern</p>
    <!-- volunteering image and content -->

    <div class="row d-flex volunteering_image_content">
        <div class="col-xxl-6 col-xl-12">
            <div class="main_volunteering_image">
                <img src="~/@Model.image.MediaPath"
                     alt="" id="volunteering_image1">
                <img src="~/IMAGES/CI Platform Assets/image1.png" alt="" id="volunteering_image2">
                <img src="~/IMAGES/CI Platform Assets/img1.png" alt="" id="volunteering_image3">
                <img src="~/IMAGES/CI Platform Assets/img11.png" alt="" id="volunteering_image4">
                <img src="~/IMAGES/CI Platform Assets/Grow-Trees-On-the-path-to-environment-sustainability-1.png"
                     alt="" id="volunteering_image5">
            </div>
            <div class="container text-center p-0">
                <div class="row  justify-content-center">
                    <div id="recipeCarousel" class="carousel slide" data-bs-ride="carousel">
                        <div class="carousel-inner" role="listbox">
                            <div class="carousel-item active">
                                <div class="col-md-3 ">
                                    <div class="card">
                                        <div class="card-img">
                                            <img src="~/IMAGES/CI Platform Assets/image1.png"
                                                 class="img-fluid small_slider_image_height" style="height: 12.5vh"
                                                 onclick="fun_volunteering_image2()">
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="carousel-item">
                                <div class="col-md-3">
                                    <div class="card">
                                        <div class="card-img">
                                            <img src="~/IMAGES/CI Platform Assets/img1.png"
                                                 class="img-fluid small_slider_image_height"
                                                 onclick="fun_volunteering_image3()">
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="carousel-item">
                                <div class="col-md-3">
                                    <div class="card">
                                        <div class="card-img">
                                            <img src="~/@Model.image?.MediaPath"
                                                 class="img-fluid small_slider_image_height"
                                                 onclick="fun_volunteering_image1()">
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="carousel-item">
                                <div class="col-md-3">
                                    <div class="card">
                                        <div class="card-img">
                                            <img src="~/IMAGES/CI Platform Assets/img11.png"
                                                 class="img-fluid small_slider_image_height"
                                                 onclick="fun_volunteering_image4()">
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="carousel-item">
                                <div class="col-md-3">
                                    <div class="card">
                                        <div class="card-img">
                                            <img src="~/IMAGES/CI Platform Assets/Grow-Trees-On-the-path-to-environment-sustainability-1.png"
                                                 class="img-fluid small_slider_image_height"
                                                 onclick="fun_volunteering_image5()">
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="carousel-item">
                                <div class="col-md-3">
                                    <div class="card">
                                        <div class="card-img">
                                            <img src="~/IMAGES/CI Platform Assets/img11.png"
                                                 class="img-fluid small_slider_image_height"
                                                 onclick="fun_volunteering_image4()">
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <a class="carousel-control-prev control_custom_changes_carousel bg-transparent w-aut"
                           href="#recipeCarousel" role="button" data-bs-slide="prev">
                            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                        </a>
                        <a class="carousel-control-next control_custom_changes_carousel bg-transparent w-aut"
                           href="#recipeCarousel" role="button" data-bs-slide="next">
                            <span class="carousel-control-next-icon" aria-hidden="true"></span>
                        </a>
                    </div>
                </div>
            </div>
        </div>
        <!-- image content second part -->
        <div class="col-xxl-6 col-xl-12 px-4 volunteer_image_second_content">
            <div class="image_content_second_header mt-4">
                <p>@Model.Missions.Title</p>
            </div>
            <div class="image_content_second_description">
                <p>
                    @Model.Missions.Description
                </p>
            </div>

            @if (@Model.Missions?.MissionType == "Time")
            {
                <div class="duration-seats-info mt-5">
                    <div class="duration">
                        <p id="duration-txt" style="margin-bottom: 0;">From @Model.Missions?.StartDate?.ToString().Substring(0,10)  until @Model.Missions?.EndDate?.ToString().Substring(0,10)</p>
                    </div>
                </div>
            }
            else
            {
                <div class="duration-seats-info mt-5">
                    <div class="duration">
                        <p id="duration-txt" style="margin-bottom: 0;">@Model.goal.GoalObjectiveText</p>
                    </div>
                </div>
            }
            <div class="d-flex justify-content-around main_sets_div mt-5">
                <div class="d-flex mobile_for_375">
                    <div class="card_searts_image_div">
                        <img src="~/IMAGES/CI Platform Assets/Seats-left.png" alt="">
                    </div>
                    <div class="d-flex flex-column card_seats_lable">
                        <label for="">@Model.Missions.SeatLeft</label>
                        <label for="">Seats left</label>
                    </div>
                </div>
                <div class="d-flex mobile_for_375">


                    @if (@Model.Missions?.MissionType == "Time")
                    {

                        <div class="card_searts_image_div">
                            <img src="~/IMAGES/CI Platform Assets/deadline.png" alt="">
                        </div>
                        <div class="d-flex flex-column card_seats_lable">
                            <label for="">@Model.Missions.Deadline?.ToString().Substring(0,10)</label>
                            <label for="">Deadline</label>
                        </div>
                    }
                    else
                    {
                        <div class="card_searts_image_div">
                            <img src="~/IMAGES/CI Platform Assets/achieved.png" alt="">
                        </div>
                        <div class="d-flex flex-column card_seats_lable">
                            <div class="progress">
                                <div class="progress-bar w-75" role="progressbar" aria-valuenow="75" aria-valuemin="0"
                                 aria-valuemax="100">
                                </div>
                            </div>
                            <label for="">@Model.goal.GoalValue achieved</label>
                        </div>
                    }
                </div>
            </div>
            <div class="card_date_button_div justify-content-around d-flex my-4">
                @if (@Model.isvalid)
                {
                    <button value="@Model.Missions.MissionId"
                        class="favorite-button heart">
                        <img src="~/IMAGES/CI Platform Assets/heart1.png" alt="heart">
                        Add to Favourite
                    </button>
                }
                else
                {
                    <button value="@Model.Missions.MissionId"
                        class="favorite-button heart-remove">

                        <img src="~/IMAGES/CI Platform Assets/heart1.png" alt="heart">
                        Add to Favourite
                    </button>
                }

                <!-- Button trigger modal -->
                <button type="button" class="btn btn-primary recommended_coworker" data-bs-toggle="modal" data-bs-target="#staticBackdrop">
                    <img src="~/IMAGES/CI Platform Assets/add1.png" alt="">
                    Recommend to a Co-Worker
                </button>

                <!-- Modal -->
                <div class="modal fade" id="staticBackdrop" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">
                    <div class="modal-dialog">
                        <div class="modal-content">
                            <div class="modal-header">
                                <h5 class="modal-title" id="staticBackdropLabel">Recommend to a Co-Worker</h5>
                                <button type="button" class="btn-close recommended_coworkerclosebtn" data-bs-dismiss="modal" aria-label="Close"></button>
                            </div>
                            <div class="modal-body">
                                @foreach (var item in Model.Users)
                                {
                                    <div class="d-flex mt-4 recommendedworker_main_div">
                                        <div class="recommendedmodelusername">
                                            <div class="error_user">
                                                <img src="~/@item.Avatar" class="rounded-circle" alt="">
                                                <label>
                                                    @item.FirstName     @item.LastName
                                                </label>
                                            </div>
                                        </div>

                                        <div class="recommendedmodelbutton ">
                                            @foreach (var item2 in Model.missionInvites)
                                            {
                                                @if (item.UserId == item2.ToUserId && @Model.Missions.MissionId == item2.MissionId && item2.FromUserId == UserId)
                                                {
                                                    <img src="~/IMAGES/CI Platform Assets/right.png" alt="">
                                                    break;
                                                }
                                            }

                                            <button class="recommendedonclick" value="@item.Email">
                                                <img src="~/IMAGES/CI Platform Assets/add1.png" alt="">
                                                Recommend
                                            </button>
                                        </div>

                                    </div>
                                }
                            </div>
                            <div class="modal-footer">
                                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                                @*<button type="button" class="btn btn-primary">Understood</button>*@
                            </div>
                        </div>
                    </div>
                </div>

            </div>
            <div class="duration-seats-info mt-4 star_empty_main">
                <div class="duration">
                    <div class="starupper">

                        @foreach (var item in Model.missionRatings)
                        {
                            rating = item.Rating;
                        }
                        @for (var i = 1; i <= rating; i++)
                        {
                            <i class="bi bi-star-fill text-warning m-2 custom-starrating " data-mission-id=@Model.Missions.MissionId></i>
                        }
                        @for (var i = 5; i > rating; i--)
                        {
                            <i class="bi bi-star m-2 custom-starrating filled-star" data-mission-id=@Model.Missions.MissionId></i>
                        }
                    </div>
                </div>
            </div>
            <div class="row d-flex mt-4 volunteer_image_content_main_card justify-content-around">
                <div class="col-md-3 col-6 flex-column d-flex volunteer_image_content_card justify-content-around">
                    <img src="~/IMAGES/CI Platform Assets/pin1.png" alt="">
                    <div>
                        <p class="volunteer_card_content_header">City</p>
                        <p>@Model.Missions.City.Name</p>
                    </div>
                </div>
                <div class="col-md-3 col-6 flex-column d-flex volunteer_image_content_card justify-content-around">
                    <img src="~/IMAGES/CI Platform Assets/web.png" alt="">
                    <div>
                        <p class="volunteer_card_content_header">Theme</p>
                        <p>@Model.Missions.Theme.Title</p>
                    </div>
                </div>
                <div class="col-md-3 col-6 flex-column d-flex volunteer_image_content_card justify-content-around">
                    <img src="~/IMAGES/CI Platform Assets/calender.png" alt="">
                    <div>
                        <p class="volunteer_card_content_header">Date </p>
                        <p> Ongoing Opportunity </p>
                    </div>
                </div>
                <div class="col-md-3 col-6 flex-column d-flex volunteer_image_content_card justify-content-around">
                    <img src="~/IMAGES/CI Platform Assets/organization.png" alt="">
                    <div>
                        <p class="volunteer_card_content_header">Organization</p>
                        <p>@Model.Missions.OrganizationName</p>
                    </div>
                </div>
            </div>
            <label vlaue=@Model.Missions.MissionId id="applystatusmissionid" class="d-none"> @Model.Missions.MissionId</label>
            <label vlaue="" id="applystatususerid" class="d-none"> @statususerid</label>

            <div class="apply_button_card mt-4">
                @if (Model.missionApplications.Any(m => m.MissionId == statusmissionid && m.UserId == statususerid))
                {

                    <button class="card_apply_button" id="statusappliedborder">
                        Applied
                    </button>
                }
                else
                {
                    <button class="card_apply_button" id="applystatus">
                        Apply Now
                        <img src="~/IMAGES/CI Platform Assets/right-arrow.png" alt="">
                    </button>
                }

            </div>
        </div>
    </div>
    <!-- tabs -->
    <div class="row mt-5 volunteering_main_tabs_content">
        <div class="col-xxl-7 col-12">
            <ul class="nav nav-tabs" id="myTab" role="tablist">
                <li class="nav-item" role="presentation">
                    <button class="nav-link active" id="home-tab" data-bs-toggle="tab" data-bs-target="#home"
                            type="button" role="tab" aria-controls="home" aria-selected="true">
                        Mission
                    </button>
                </li>
                <li class="nav-item" role="presentation">
                    <button class="nav-link" id="profile-tab" data-bs-toggle="tab" data-bs-target="#profile"
                            type="button" role="tab" aria-controls="profile" aria-selected="false">
                        Organization
                    </button>
                </li>
                <li class="nav-item" role="presentation">
                    <button class="nav-link" id="contact-tab" data-bs-toggle="tab" data-bs-target="#contact"
                            type="button" role="tab" aria-controls="contact" aria-selected="false">
                        Comments
                    </button>
                </li>
            </ul>
            <div class="tab-content" id="myTabContent">
                <!-- mission tab -->
                <div class="tab-pane fade show active" id="home" role="tabpanel" aria-labelledby="home-tab">
                    <div class="tab_content">
                        <p class="tab_content_header">Introduction</p>
                        <p class="tab_content_description">
                            Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor
                            incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud
                            exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.
                            <br> <br>
                            Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat
                            nulla pariatur.
                            Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt
                            mollit anim id est laborum.
                            <br> <br> Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed
                            do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam,
                            quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.Duis
                            aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla
                            pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia
                            deserunt mollit anim id est laborum.
                        </p>
                    </div>
                    <div class="tab_content">
                        <p class="tab_content_header">Challenge</p>
                        <p class="tab_content_description">
                            Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor
                            incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud
                            exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure
                            dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur.
                            Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt
                            mollit anim id est laborum.
                            <br> <br> Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed
                            do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam,
                            quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.
                            Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt
                            mollit anim id est laborum.
                        </p>
                    </div>
                    <div class="tab_content">
                        <p class="tab_content_header">Documents</p>
                        <div class="card_date_button_div d-flex my-4 row">
                            @if (@Model.missiondocuments.Count() == 0)
                            {
                                <p class="col-12">No documents Upload</p>
                            }
                            else
                            {
                                @foreach (var documents in Model.missiondocuments)
                                {
                                    <a class="col-4 pb-4" href="@Url.Content("~/"+ documents.DocumentPath)" target="_blank" download>
                                        <button>
                                            <img src="~/IMAGES/CI Platform Assets/doc.png" alt="PDF">
                                            @documents.DocumentName.@documents.DocumentType
                                        </button>
                                    </a>
                                }
                            }
                        </div>
                    </div>
                </div>
                <!-- organization tab -->
                <div class="tab-pane fade" id="profile" role="tabpanel" aria-labelledby="profile-tab">
                    <div class="tab_content">
                        <p class="tab_content_description">
                            @Model.Missions.OrganizationDetail
                        </p>
                    </div>
                </div>
                <!-- comments tab -->
                <div class="tab-pane fade" id="contact" role="tabpanel" aria-labelledby="contact-tab">
                    <div class="mb-3">
                        <textarea class="form-control" id="exampleFormControlTextarea1" rows="4"
                                  placeholder="Enter your Comments..."></textarea>
                    </div>
                    <div class="apply_button_card">
                        <button id="comment_click" value="@Model.Missions.MissionId" class="card_apply_button"> Post Comment</button>
                    </div>
                    <div class="comment_volunteer_main">
                        @foreach (var cmt in Model.commentdetails)
                        {
                            <div class="d-flex volunteer_comment">
                                <div class="volunter_image">
                                    <img src="~/@cmt.User.Avatar" alt="">
                                </div>
                                <div class="d-flex flex-column volunteer_comment_content">
                                    <div>
                                        <p class="volunteer_comment_header">@cmt.Username</p>
                                        <p class="volunteer_comment_date">@cmt.CreatedAt </p>
                                    </div>
                                    <p class="volunteer_comment_description">
                                        @cmt.Comment1
                                    </p>
                                </div>
                            </div>
                        }
                    </div>
                </div>
            </div>
        </div>
        <!-- information and recent volunteer -->
        <div class="col-xxl-5 col-12 volunteer_tabs_second_part">
            <!-- information -->
            <div class="information_main_div">
                <div class="tab_content">
                    <p class="tab_content_header">Information</p>
                </div>
                <hr>
                <div>
                    <span class="information_firstcol">Skills</span>
                    <span>Botany</span>
                </div>
                <hr>
                <div>
                    <span class="information_firstcol">Days</span>
                    <span>Daily</span>
                </div>
                <hr>
                <div>
                    <span class="information_firstcol">Rating</span>
                    @for (int i = 0; i < avgRatingstar; i++)
                    {
                        <span><img src="~/IMAGES/CI Platform Assets/selected-star.png" alt=""></span>
                    }
                    @for (int i = 0; i < 5 - avgRatingstar; i++)
                    {
                        <span><img src="~/IMAGES/CI Platform Assets/star.png" alt=""></span>
                    }
                    <span class="totalvolunteer">(by @totalvolunteerrating volunteers)</span>
                </div>
            </div>
            <!-- recent volunteer -->
            <div class="information_main_div recent_volunteers">
                <div class="tab_content">
                    <p class="tab_content_header">Recent Volunteers</p>
                </div>
                <hr>

                <div class="recent_volunteers justify-content-around">

                    <div class="row">
                        @foreach (var item in Model.missionApplications)
                        {
                            <div class="col-md-4 mb-4 col-4">

                                <div class="d-flex flex-column align-items-center volunteer_images">
                                    <img src="~/@item.User.Avatar" alt="">
                                    <span>@item.User.FirstName @item.User.LastName</span>
                                </div>
                            </div>
                            recentvolunteeer = recentvolunteeer + 1;
                        }
                    </div>
                </div>
            </div>
            <!-- move to another volunteer -->
            <div class="d-flex justify-content-between align-items-center volunteer_change_users">
                <button class="previous_volu">
                    <img src="~/IMAGES/CI Platform Assets/left.png" alt="">
                </button>
                <div>
                    <span>1-@recentvolunteeer of @recentvolunteeer Recent Volunteers</span>
                </div>
                <button class="next_volu">
                    <img src="~/IMAGES/CI Platform Assets/right-arrow1.png" alt="">
                </button>
            </div>
        </div>
    </div>
    <div>
        <hr>
    </div>
    <!-- Releted missions -->
    <div class="error_pagenotfound">
        <p>Releted Missions</p>
    </div>
    <div class="row main_mission_post_card ">
        @foreach (var item in Model.RelatedMissions)
        {
            double avgRatingstars = 0;
            @if (item.MissionRatings.Any())
            {
                avgRatingstars = item.MissionRatings.Average(r => r.Rating);
            }

            <div class="col-xl-4 col-12 column quote1">
                <div class="card demo">
                    <div>
                        <button class="location_card list_view_location">
                            <img src="~/IMAGES/CI Platform Assets/pin1.png" alt="">
                            @item.City.Name
                        </button>
                        @if (@item.MissionApplications.Any(a => a.UserId == UserId && a.ApprovalStatus == "APPROVE"))
                        {
                            <button class="location_card applied_tag">
                                Applied
                            </button>
                        }

                        <button class="location_card heart_card list_view_heart">
                            <img src="~/IMAGES/CI Platform Assets/heart1.png" alt="">
                        </button>
                        <button class="location_card user_card list_view_user">
                            <img src="~/IMAGES/CI Platform Assets/add1.png" alt="">
                        </button>
                        <img src="~/@(item.MissionMedia.FirstOrDefault()?.MediaPath)"
                         class="card-img-top" alt="...">
                        <div class="card_button_image_header_div">
                            <button class="card_button_image_header">@item.Theme.Title</button>
                        </div>
                    </div>
                    <div class="card-body">
                        <h5 class="card-title">@item.Title</h5>
                        <p class="card-text">
                            @item.Description
                        </p>
                        <div class="d-flex justify-content-between main_sets_div">
                            <label for="">Tree Canada</label>
                            <div>
                                @for (int i = 0; i < avgRatingstars; i++)
                                {
                                    <span><img src="~/IMAGES/CI Platform Assets/selected-star.png" alt=""></span>
                                }
                                @for (int i = 0; i < 5 - avgRatingstars; i++)
                                {
                                    <span><img src="~/IMAGES/CI Platform Assets/star.png" alt=""></span>
                                }
                            </div>
                        </div>

                        @if (@item.MissionType == "Time")
                        {

                            <div class="card_date_button_div">
                                <button>
                                    From @item.StartDate?.ToString().Substring(0,10)  until @item.EndDate?.ToString().Substring(0,10)
                                </button>
                            </div>
                            <div class="d-flex justify-content-between landing_mobile_col">
                                <div class="d-flex">
                                    <div class="card_searts_image_div">
                                        <img src="~/IMAGES/CI Platform Assets/Seats-left.png" alt="">
                                    </div>
                                    <div class="d-flex flex-column card_seats_lable">
                                        <label for="">@item.SeatLeft</label>
                                        <label for="">Seats left</label>
                                    </div>
                                </div>
                                <div class="d-flex">
                                    <div class="card_searts_image_div">
                                        <img src="~/IMAGES/CI Platform Assets/deadline.png" alt="">
                                    </div>
                                    <div class="d-flex flex-column card_seats_lable">
                                        <label for="">@item.Deadline.ToString()</label>
                                        <label for="">Deadline</label>
                                    </div>
                                </div>
                            </div>
                        }
                        else
                        {
                            <div class="card_date_button_div">
                                <button>
                                    @(item.GoalMissions.FirstOrDefault().GoalObjectiveText)
                                </button>
                            </div>

                            <div class="d-flex justify-content-between landing_mobile_col">
                                <div class="d-flex">
                                    <div class="card_searts_image_div">
                                        <img src="~/IMAGES/CI Platform Assets/Seats-left.png" alt="">
                                    </div>
                                    <div class="d-flex flex-column card_seats_lable">
                                        <label for="">@item.SeatLeft</label>
                                        <label for="">Seats left</label>
                                    </div>
                                </div>
                                <div class="d-flex">

                                    <div class="card_searts_image_div">
                                        <img src="~/IMAGES/CI Platform Assets/achieved.png" alt="">
                                    </div>
                                    <div class="d-flex flex-column card_seats_lable">
                                        <div class="progress">
                                            <div class="progress-bar w-75" role="progressbar" aria-valuenow="75" aria-valuemin="0"
                                         aria-valuemax="100">
                                            </div>
                                        </div>
                                        <label for="">@item.GoalMissions.FirstOrDefault().GoalValue Archived</label>
                                    </div>
                                </div>
                            </div>

                        }

                        <div>
                            <hr>
                        </div>
                        <div class="apply_button_card">
                            <a asp-controller="Mission" asp-action="Volunteering" asp-route-id="@item.MissionId">
                                <button class="card_apply_button">
                                    Apply
                                    <img src="~/IMAGES/CI Platform Assets/right-arrow.png" alt="">
                                </button>
                            </a>
                            @*<button class="card_apply_button">
                                Apply
                                <img src="~/IMAGES/CI Platform Assets/right-arrow.png" alt="">
                                </button>*@
                        </div>
                    </div>
                </div>
            </div>
        }
    </div>
</div>
<!-- privacy policy footer -->
@Html.Partial("~/Views/Shared/_footer.cshtml", Model.FilterMissions);
</div>

<script>
        /* small carousel */
    let items = document.querySelectorAll('.carousel .carousel-item')

    items.forEach((el) => {
        const minPerSlide = 4
        let next = el.nextElementSibling
        for (var i = 1; i < minPerSlide; i++) {
            if (!next) {
                // wrap carousel by using first child
                next = items[0]
            }
            let cloneChild = next.cloneNode(true)
            el.appendChild(cloneChild.children[0])
            next = next.nextElementSibling
        }
    })

    /* small carousel  image click event*/
    function fun_volunteering_image1() {
        document.getElementById("volunteering_image1").style.display = "block";
        document.getElementById("volunteering_image2").style.display = "none";
        document.getElementById("volunteering_image3").style.display = "none";
        document.getElementById("volunteering_image4").style.display = "none";
        document.getElementById("volunteering_image5").style.display = "none";
    }
    function fun_volunteering_image2() {
        document.getElementById("volunteering_image1").style.display = "none";
        document.getElementById("volunteering_image2").style.display = "block";
        document.getElementById("volunteering_image3").style.display = "none";
        document.getElementById("volunteering_image4").style.display = "none";
        document.getElementById("volunteering_image5").style.display = "none";
    }
    function fun_volunteering_image3() {
        document.getElementById("volunteering_image1").style.display = "none";
        document.getElementById("volunteering_image2").style.display = "none";
        document.getElementById("volunteering_image3").style.display = "block";
        document.getElementById("volunteering_image4").style.display = "none";
        document.getElementById("volunteering_image5").style.display = "none";
    }
    function fun_volunteering_image4() {
        document.getElementById("volunteering_image1").style.display = "none";
        document.getElementById("volunteering_image2").style.display = "none";
        document.getElementById("volunteering_image3").style.display = "none";
        document.getElementById("volunteering_image4").style.display = "block";
        document.getElementById("volunteering_image5").style.display = "none";
    }
    function fun_volunteering_image5() {
        document.getElementById("volunteering_image1").style.display = "none";
        document.getElementById("volunteering_image2").style.display = "none";
        document.getElementById("volunteering_image3").style.display = "none";
        document.getElementById("volunteering_image4").style.display = "none";
        document.getElementById("volunteering_image5").style.display = "block";
    }
</script>
